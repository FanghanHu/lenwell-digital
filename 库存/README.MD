[回到主页](../README.MD)

# 应用范围

-   零售、批发商品管理
-   LCD屏幕管理
-   其他维修材料管理
-   第三方商城对接

## 所有库存管理下的项目
-   通过多级分类来归类管理项目（例如: iPad -> LCD 或者是：Electronics -> Home and living -> lamps）
-   所有项目需要记录平均进价， 目前库存数量， 库存变动日期时间以及原因， 变动量以及进价。
-   入库时需建立一个入库单， 入库单上填写这次入库的物品类型， 每种类型的数量，以及平均进价。 单张入库单可以有多个同样类型的物品以不同的进价入库。
-   当入库时， 若有填新的进价时， 则用这些信息计算新的 平均进价： (（现有库存数量 x 现有平均价） + （新入库数量 x 入库平均价）) / (现有库存数量 + 新入库数量）。
-   没有填新的进价时， 则默认这次入库的平均价和已经入库的商品是一样的。
-   入库单分为两种状态： open（开启/未完成） closed(关闭/已入库)， open 的入库单不影响现有库存， 可以随时随便修改， 直到确认后再close， 录入库存。
-   修改一张已经close的入库单时需要考虑到已经入库的部分， 除数量变化以外， 平均价也会跟着变化。 ``例： 仓库内原有10个A产品，平均进价为$10。 新建一张入库单#B， 再入库10个A产品， 平均进价$15。 关闭入库单后库存为20个A产品， 平均进价为: $12.5。这时如果发现实际仅入库了5个A产品， 那么当操作人员修改入库单后， A产品的库存应该是15， 平均进价应该是$11.67. A产品的库存记录应该是入库单#B入库10个（平均$15）, 入库单#B调整-5（平均$15）``
-   维修人员在进行维修时有时会因为失误而损坏掉零件， 这种消耗需要可以另计， 并且能在报表中单独显示出来。

## LCD屏幕管理
-   LCD屏幕是指翻修的LCD， 它们除了分屏幕型号以外， 另外还分屏幕又屏幕完好度评测的规格：A， B， C， D规。
-   iPad部分机型存在多个机型使用同种屏幕的情况。
-   LCD 是商品， 会被单卖给客户， 同时它也是维修时使用的材料， 会在维修订单中被消耗掉。
-   已经入库的低规LCD， 有时会被技术人员拿来重新翻新， 以此提高屏幕的规格。 这个过程需要： 1.扣除低规LCD的数量， 2.消耗翻新用的材料 3.增加高规格LCD的数量， 4.根据低规LCD的平均进价来调整所添加的高规LCD的平均进价

## 其他维修材料管理
-   根据维修内容不同， 维修过程中预计会消耗不同的替换部件。
-   替换用的零件虽然多数为一个型号对应一种零件， 但是也有少数情况多个型号共用一种零件。
-   每个订单所消耗的零件是无法在一开始就确定下来的， 维修过程中可能会有各种状况导致实际使用掉的零件增加或减少， 但是我们还是需要在订单中根据客户/收银员一开始填写的维修项目来自动生成需要消耗的材料清单， 这个消耗清单需要可以让人手动调整

## 第三方商城对接
-   提供 API 接口来自动调整库存：接受可验证的post请求（用API Key验证）， 当收到请求后， 依照请求内容调整库存， 请求内容包含： 库存变化数量（正数为增加库存， 负数为减少）， 库存变化原因（短文本）， 时间日期
-   提供 webhook 来根据自身库存自动调节第三方商城所显示的库存：当特定商品库存产生变化时， 向指定网址发出post请求， 并且提供新的库存数目

## 操作记录
-   所有对库存的操作都需要记录操作时间，操作人员，数目，平均价，以及操作说明（大部分时间自动生成短文本， 特殊情况由用户手动输入）。
-   记录无法删除， 但是可以通过录入新的逆向操作来修正之前的错误。

## 报表
-   所有报表需要可以过滤产品， 根据产品数量， 平均进价， 名称， 操作原因等属性进行整理。
-   时间点库存报表: 显示一个时间下各种商品的库存情况
-   时间段之间库存变化，显示数量变化， 平均进价变化
